# Environment Configuration for Self-Hosted AI Stack
# Copy this file to .env and fill in your actual values
# The .env file is ignored by git for security

# === GENERAL SETTINGS ===
# Base data path for all persistent data
DATA_PATH=/data

# GPU Worker host IP (for server to connect to GPU services)
GPU_WORKER_HOST=192.168.1.99

# === OPEN WEBUI SETTINGS ===
# Port for Open WebUI web interface
WEBUI_PORT=3000

# Secret key for Open WebUI (generate a strong random key)
WEBUI_SECRET_KEY=your_strong_secret_key_here

# Name for the WebUI instance
WEBUI_NAME=Self-Hosted AI Server

# Enable user signup
ENABLE_SIGNUP=true

# Enable community sharing features
ENABLE_COMMUNITY_SHARING=false

# === RAG WEB SEARCH SETTINGS ===
# Enable RAG web search
ENABLE_RAG_WEB_SEARCH=true

# Web search engine to use
RAG_WEB_SEARCH_ENGINE=searxng

# SearXNG query URL
SEARXNG_QUERY_URL=http://searxng:8080/search?q=<query>&format=json

# === IMAGE GENERATION SETTINGS ===
# Enable image generation
ENABLE_IMAGE_GENERATION=true

# Image generation engine (auto, comfyui, automatic1111)
IMAGE_GENERATION_ENGINE=auto

# ComfyUI base URL
COMFYUI_BASE_URL=http://192.168.1.99:8188

# ComfyUI workflow file path (optional)
COMFYUI_WORKFLOW=

# Automatic1111 base URL
AUTOMATIC1111_BASE_URL=http://192.168.1.99:7860

# OpenAI API key for images (if using external API)
IMAGES_OPENAI_API_KEY=

# OpenAI API base URL for images
IMAGES_OPENAI_API_BASE_URL=

# === CODE EXECUTION SETTINGS ===
# Enable code execution
ENABLE_CODE_EXECUTION=true

# Code execution engine
CODE_EXECUTION_ENGINE=gvisor

# Code execution API URL
CODE_EXECUTION_API_URL=http://code-executor:8080

# === OLLAMA SETTINGS ===
# Ollama API port
OLLAMA_PORT=11434

# CPU Ollama settings
OLLAMA_CPU_NUM_PARALLEL=8
OLLAMA_CPU_MAX_LOADED_MODELS=4

# GPU Ollama settings
OLLAMA_NUM_PARALLEL=4
OLLAMA_MAX_LOADED_MODELS=2
OLLAMA_KEEP_ALIVE=30m
OLLAMA_GPU_LAYERS=99
OLLAMA_FLASH_ATTENTION=1
OLLAMA_HOST=0.0.0.0

# === GPU MANAGER SETTINGS ===
# GPU Manager port
GPU_MANAGER_PORT=8100

# === COMFYUI SETTINGS ===
# ComfyUI port
COMFYUI_PORT=8188

# ComfyUI CLI arguments
COMFYUI_CLI_ARGS=--listen 0.0.0.0 --preview-method auto

# ComfyUI web user
COMFYUI_WEB_USER=admin

# ComfyUI web password (leave empty for no auth)
COMFYUI_WEB_PASSWORD=

# === AUTOMATIC1111 SETTINGS ===
# Automatic1111 port
AUTOMATIC1111_PORT=7860