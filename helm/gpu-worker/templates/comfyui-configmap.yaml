{{- if .Values.comfyui.enabled }}
apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "self-hosted-ai-gpu-worker.fullname" . }}-comfyui-config
  labels:
    app.kubernetes.io/name: {{ include "self-hosted-ai-gpu-worker.name" . }}
    app.kubernetes.io/instance: {{ .Release.Name }}
    app.kubernetes.io/component: comfyui
data:
  extra_model_paths.yaml: |
    persistent_models:
        base_path: /models/
        checkpoints: checkpoints/
        clip: clip/
        clip_vision: clip_vision/
        configs: configs/
        controlnet: controlnet/
        diffusion_models: diffusion_models/
        embeddings: embeddings/
        loras: loras/
        style_models: style_models/
        text_encoders: text_encoders/
        unet: unet/
        upscale_models: upscale_models/
        vae: vae/
{{- end }}
