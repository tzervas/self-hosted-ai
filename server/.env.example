# Server Environment Configuration
# Copy to .env and customize values
# DO NOT commit .env with real secrets

# =============================================================================
# SECURITY - MUST CHANGE
# =============================================================================
# Generate with: openssl rand -hex 32
WEBUI_SECRET_KEY=change-me-generate-with-openssl-rand-hex-32

# Grafana admin password
GRAFANA_ADMIN_PASSWORD=change-me-use-strong-password

# =============================================================================
# OPEN WEBUI
# =============================================================================
WEBUI_PORT=3001
WEBUI_NAME=Self-Hosted AI Server

# User management
ENABLE_SIGNUP=true
ENABLE_COMMUNITY_SHARING=false

# =============================================================================
# RAG AND WEB SEARCH (Optional)
# =============================================================================
ENABLE_RAG_WEB_SEARCH=false
RAG_WEB_SEARCH_ENGINE=searxng
SEARXNG_QUERY_URL=

# =============================================================================
# IMAGE GENERATION (Optional)
# =============================================================================
ENABLE_IMAGE_GENERATION=false
AUTOMATIC1111_BASE_URL=
COMFYUI_BASE_URL=
IMAGES_OPENAI_API_KEY=
IMAGES_OPENAI_API_BASE_URL=

# =============================================================================
# CODE EXECUTION (Optional)
# =============================================================================
ENABLE_CODE_EXECUTION=false
CODE_EXECUTION_ENGINE=gvisor
CODE_EXECUTION_API_URL=http://code-executor:8080
CODE_EXECUTOR_PORT=8090

# Sandbox limits
SANDBOX_RUNTIME=runsc
MAX_EXECUTION_TIME=60
MAX_MEMORY_MB=1024
MAX_OUTPUT_SIZE_MB=10

# =============================================================================
# OLLAMA CPU (Server)
# =============================================================================
OLLAMA_PORT=11434
OLLAMA_CPU_NUM_PARALLEL=8
OLLAMA_CPU_MAX_LOADED_MODELS=4
OLLAMA_KEEP_ALIVE=30m
# Adjust to your CPU thread count
OLLAMA_NUM_THREADS=56

# =============================================================================
# REDIS
# =============================================================================
REDIS_PORT=6379

# =============================================================================
# DATA PERSISTENCE
# =============================================================================
# Path for bind mounts (models, configs, databases)
DATA_PATH=/data
