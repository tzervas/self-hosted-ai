# Multi-Modal AI Stack Environment Configuration
# Copy to .env and configure for your environment

# === CORE SERVICES ===
DATA_PATH=/data
GPU_WORKER_HOST=192.168.1.99
CPU_SERVER_HOST=192.168.1.170

# === OLLAMA ===
OLLAMA_PORT=11434
OLLAMA_NUM_THREADS=56
OLLAMA_CPU_NUM_PARALLEL=8
OLLAMA_CPU_MAX_LOADED_MODELS=4
OLLAMA_NUM_PARALLEL=4
OLLAMA_MAX_LOADED_MODELS=2
OLLAMA_KEEP_ALIVE=30m
OLLAMA_GPU_LAYERS=99
OLLAMA_FLASH_ATTENTION=1

# === OPEN WEBUI ===
WEBUI_PORT=3001
# SECURITY: Generate secure key with: openssl rand -hex 32
# NEVER use default values in production!
WEBUI_SECRET_KEY=CHANGE_ME_GENERATE_WITH_OPENSSL_RAND_HEX_32
WEBUI_NAME=Self-Hosted AI Stack
ENABLE_SIGNUP=true
ENABLE_COMMUNITY_SHARING=false

# === IMAGE GENERATION (ComfyUI) ===
ENABLE_IMAGE_GENERATION=true
IMAGE_GENERATION_ENGINE=comfyui
COMFYUI_PORT=8188
COMFYUI_BASE_URL=http://192.168.1.99:8188
COMFYUI_WORKFLOW=""
COMFYUI_CLI_ARGS=--listen 0.0.0.0 --preview-method auto
COMFYUI_WEB_USER=admin
COMFYUI_WEB_PASSWORD=

# === AUDIO SERVICES ===

# Whisper STT
WHISPER_PORT=9000
WHISPER_MODEL=base
# Options: tiny, base, small, medium, large

# Piper TTS
PIPER_PORT=5000

# Coqui TTS
COQUI_PORT=5002
TTS_MODEL=tts_models/en/ljspeech/tacotron2-DDC

# === VECTOR DATABASE (Qdrant) ===
QDRANT_PORT=6333
QDRANT_GRPC_PORT=6334
QDRANT_LOG_LEVEL=INFO

# === DOCUMENT PROCESSING ===
TIKA_PORT=9998

# === API GATEWAY (LiteLLM) ===
LITELLM_PORT=4000
# SECURITY: Generate secure key with: openssl rand -hex 32
LITELLM_MASTER_KEY=CHANGE_ME_GENERATE_WITH_OPENSSL_RAND_HEX_32

# === DATABASE (PostgreSQL) ===
POSTGRES_PORT=5432
POSTGRES_17_PORT=5433
POSTGRES_DB=litellm
POSTGRES_USER=litellm
# SECURITY: Generate secure password with: openssl rand -base64 32
POSTGRES_PASSWORD=CHANGE_ME_GENERATE_WITH_OPENSSL_RAND_BASE64_32

# === WORKFLOW ORCHESTRATION (n8n) ===
N8N_PORT=5678
N8N_USER=admin
# SECURITY: Use a strong password (min 12 characters)
N8N_PASSWORD=CHANGE_ME_USE_STRONG_PASSWORD_MIN_12_CHARS
N8N_HOST=0.0.0.0
N8N_PROTOCOL=http
N8N_WEBHOOK_URL=http://localhost:5678
TZ=America/New_York

# === MONITORING ===
LOKI_PORT=3100
PROMETHEUS_PORT=9090
GRAFANA_PORT=3002
# SECURITY: Set strong Grafana admin password (defined in docker-compose.yml)
GRAFANA_ADMIN_PASSWORD=CHANGE_ME_USE_STRONG_PASSWORD_MIN_12_CHARS

# === REDIS ===
REDIS_PORT=6379

# === CODE EXECUTION ===
ENABLE_CODE_EXECUTION=true
CODE_EXECUTION_ENGINE=gvisor
CODE_EXECUTION_API_URL=http://code-executor:8080
CODE_EXECUTOR_PORT=8090
SANDBOX_RUNTIME=runsc
MAX_EXECUTION_TIME=60
MAX_MEMORY_MB=1024
MAX_OUTPUT_SIZE_MB=10

# === RAG & SEARCH ===
ENABLE_RAG_WEB_SEARCH=false
RAG_WEB_SEARCH_ENGINE=searxng
SEARXNG_QUERY_URL=
‚ö†Ô∏è  WARNING: CORS wildcard (*) allows requests from ANY origin
# üîí PRODUCTION: Set to specific domains, e.g.:
#    CORS_ALLOW_ORIGIN=https://yourdomain.com,https://app.yourdomain.com
# üö® NEVER use wildcard (*) in production environments!
# === SECURITY ===
# Set to 'false' in production
CORS_ALLOW_ORIGIN=*

# === PERFORMANCE TUNING ===
# Adjust based on your hardware
MAX_CONCURRENT_REQUESTS=10
REQUEST_TIMEOUT=300
WORKER_THREADS=4

# === FEATURE FLAGS ===
ENABLE_MULTIMODAL=true
ENABLE_VIDEO_GENERATION=true
ENABLE_AUDIO_GENERATION=true
ENABLE_EMBEDDINGS=true
ENABLE_FUNCTION_CALLING=true
ENABLE_WORKFLOW_ORCHESTRATION=true

# === MODEL PREFERENCES ===
DEFAULT_TEXT_MODEL=llama3.1:8b
DEFAULT_CODE_MODEL=qwen2.5-coder:14b
DEFAULT_VISION_MODEL=llava:13b
DEFAULT_EMBEDDING_MODEL=nomic-embed-text:latest
DEFAULT_FUNCTION_MODEL=mistral:7b-instruct-v0.3

# === LOGGING ===
LOG_LEVEL=INFO
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL

# === BACKUP ===
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30
